Using launch settings from C:\Users\ayush\OneDrive\Desktop\Ayush\Coding\Landmark Projects\HRMS\HRMS trial 2\HRMS\HRMS.Web\Properties\launchSettings.json...
Building...
info: Serenity.Web.NodeScriptRunner[0]
      > tsbuild:watch

info: Serenity.Web.NodeScriptRunner[0]
      > node ./tsbuild.js --watch

info: Serenity.Web.NodeScriptRunner[0]
      [watch] build finished, watching for changes...

-------------------------------------------------------------------------------
20260116130000: DefaultDB_20260116_130000_DummyData migrating
-------------------------------------------------------------------------------
Beginning Transaction
dotnet : !!! An error occurred executing the following sql:
At line:1 char:1
+ dotnet run > run_log.txt 2>&1
+ ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
    + CategoryInfo          : NotSpecified: (!!! An error oc... following sql::String) [], RemoteException
    + FullyQualifiedErrorId : NativeCommandError
 
INSERT INTO [dbo].[Employees] ([EmployeeCode], [FirstName], [LastName], [Email], [DepartmentId], [DesignationId], 
[JoiningDate], [EmploymentType], [Status]) VALUES (N'EMP001', N'John', N'Doe', N'john.doe@example.com', 1, 1, 
'2023-01-15T00:00:00', 1, 1)
The error was The INSERT statement conflicted with the FOREIGN KEY constraint "FK_Employees_DepartmentId". The 
conflict occurred in database "HRMS_Default_v1", table "dbo.Departments", column 'DepartmentId'.
The statement has been terminated.

!!! +- The INSERT statement conflicted with the FOREIGN KEY constraint "FK_Employees_DepartmentId". The conflict 
occurred in database "HRMS_Default_v1", table "dbo.Departments", column 'DepartmentId'.
The statement has been terminated.
Rolling back transaction
crit: Microsoft.AspNetCore.Hosting.Diagnostics[6]
      Application startup exception
      System.InvalidOperationException: Error executing migration!
       ---> System.Exception: An error occurred executing the following sql:
      INSERT INTO [dbo].[Employees] ([EmployeeCode], [FirstName], [LastName], [Email], [DepartmentId], [DesignationId], [JoiningDate], [EmploymentType], [Status]) VALUES (N'EMP001', N'John', N'Doe', N'john.doe@example.com', 1, 1, '2023-01-15T00:00:00', 1, 1)
      The error was The INSERT statement conflicted with the FOREIGN KEY constraint "FK_Employees_DepartmentId". The conflict occurred in database "HRMS_Default_v1", table "dbo.Departments", column 'DepartmentId'.
      The statement has been terminated.
      
       ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_Employees_DepartmentId". The conflict occurred in database "HRMS_Default_v1", table "dbo.Departments", column 'DepartmentId'.
      The statement has been terminated.
         at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
         at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
         at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, SqlCommand command, Boolean callerHasConnectionLock, Boolean asyncClose)
         at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
         at Microsoft.Data.SqlClient.SqlCommand.RunExecuteNonQueryTds(String methodName, Boolean isAsync, Int32 timeout, Boolean asyncWrite)
         at Microsoft.Data.SqlClient.SqlCommand.InternalExecuteNonQuery(TaskCompletionSource`1 completion, Boolean sendToPipe, Int32 timeout, Boolean& usedCache, Boolean asyncWrite, Boolean inRetry, String methodName)
         at Microsoft.Data.SqlClient.SqlCommand.ExecuteNonQuery()
         at FluentMigrator.Runner.Processors.SqlServer.SqlServerProcessor.ExecuteNonQuery(String sql)
      ClientConnectionId:c28ac21b-eaa9-436b-be4d-b2b931c993e0
      Error Number:547,State:0,Class:16
         --- End of inner exception stack trace ---
         at FluentMigrator.Runner.Processors.ProcessorBase.ReThrowWithSql(Exception ex, String sql)
         at FluentMigrator.Runner.Processors.SqlServer.SqlServerProcessor.ExecuteNonQuery(String sql)
         at FluentMigrator.Runner.Processors.SqlServer.SqlServerProcessor.Process(String sql)
         at FluentMigrator.Runner.Processors.ProcessorBase.Process(InsertDataExpression expression)
         at FluentMigrator.Expressions.InsertDataExpression.ExecuteWith(IMigrationProcessor processor)
         at FluentMigrator.Runner.MigrationRunner.<>c__DisplayClass75_0.<ExecuteExpressions>b__0()
         at FluentMigrator.Runner.StopWatch.Time(Action action)
         at FluentMigrator.Runner.MigrationRunner.ExecuteExpressions(ICollection`1 expressions)
         at FluentMigrator.Runner.MigrationRunner.ExecuteMigration(IMigration migration, Action`2 getExpressions)
         at FluentMigrator.Runner.MigrationRunner.ApplyMigrationUp(IMigrationInfo migrationInfo, Boolean useTransaction)
         at FluentMigrator.Runner.MigrationRunner.MigrateUp(Int64 targetVersion, Boolean useAutomaticTransactionManagement)
         at FluentMigrator.Runner.MigrationRunner.MigrateUp(Boolean useAutomaticTransactionManagement)
         at FluentMigrator.Runner.MigrationRunner.MigrateUp()
         at HRMS.AppServices.DataMigrations.RunMigrations(String databaseKey) in C:\Users\ayush\OneDrive\Desktop\Ayush\Coding\Landmark Projects\HRMS\HRMS trial 2\HRMS\HRMS.Web\Modules\Common\AppServices\DataMigrations.cs:line 96
         --- End of inner exception stack trace ---
         at HRMS.AppServices.DataMigrations.RunMigrations(String databaseKey) in C:\Users\ayush\OneDrive\Desktop\Ayush\Coding\Landmark Projects\HRMS\HRMS trial 2\HRMS\HRMS.Web\Modules\Common\AppServices\DataMigrations.cs:line 100
         at HRMS.AppServices.DataMigrations.Initialize() in C:\Users\ayush\OneDrive\Desktop\Ayush\Coding\Landmark Projects\HRMS\HRMS trial 2\HRMS\HRMS.Web\Modules\Common\AppServices\DataMigrations.cs:line 29
         at HRMS.Startup.Configure(IApplicationBuilder app, IWebHostEnvironment env) in C:\Users\ayush\OneDrive\Desktop\Ayush\Coding\Landmark Projects\HRMS\HRMS trial 2\HRMS\HRMS.Web\Initialization\Startup.cs:line 172
         at System.RuntimeMethodHandle.InvokeMethod(Object target, Void** arguments, Signature sig, Boolean isConstructor)
         at System.Reflection.MethodBaseInvoker.InvokeDirectByRefWithFewArgs(Object obj, Span`1 copyOfArgs, BindingFlags invokeAttr)
         at System.Reflection.MethodBaseInvoker.InvokeWithFewArgs(Object obj, BindingFlags invokeAttr, Binder binder, Object[] parameters, CultureInfo culture)
         at Microsoft.AspNetCore.Hosting.ConfigureBuilder.Invoke(Object instance, IApplicationBuilder builder)
         at Microsoft.AspNetCore.Hosting.GenericWebHostService.StartAsync(CancellationToken cancellationToken)
fail: Microsoft.Extensions.Hosting.Internal.Host[11]
      Hosting failed to start
      System.InvalidOperationException: Error executing migration!
       ---> System.Exception: An error occurred executing the following sql:
      INSERT INTO [dbo].[Employees] ([EmployeeCode], [FirstName], [LastName], [Email], [DepartmentId], [DesignationId], [JoiningDate], [EmploymentType], [Status]) VALUES (N'EMP001', N'John', N'Doe', N'john.doe@example.com', 1, 1, '2023-01-15T00:00:00', 1, 1)
      The error was The INSERT statement conflicted with the FOREIGN KEY constraint "FK_Employees_DepartmentId". The conflict occurred in database "HRMS_Default_v1", table "dbo.Departments", column 'DepartmentId'.
      The statement has been terminated.
      
       ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_Employees_DepartmentId". The conflict occurred in database "HRMS_Default_v1", table "dbo.Departments", column 'DepartmentId'.
      The statement has been terminated.
         at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
         at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
         at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, SqlCommand command, Boolean callerHasConnectionLock, Boolean asyncClose)
         at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
         at Microsoft.Data.SqlClient.SqlCommand.RunExecuteNonQueryTds(String methodName, Boolean isAsync, Int32 timeout, Boolean asyncWrite)
         at Microsoft.Data.SqlClient.SqlCommand.InternalExecuteNonQuery(TaskCompletionSource`1 completion, Boolean sendToPipe, Int32 timeout, Boolean& usedCache, Boolean asyncWrite, Boolean inRetry, String methodName)
         at Microsoft.Data.SqlClient.SqlCommand.ExecuteNonQuery()
         at FluentMigrator.Runner.Processors.SqlServer.SqlServerProcessor.ExecuteNonQuery(String sql)
      ClientConnectionId:c28ac21b-eaa9-436b-be4d-b2b931c993e0
      Error Number:547,State:0,Class:16
         --- End of inner exception stack trace ---
         at FluentMigrator.Runner.Processors.ProcessorBase.ReThrowWithSql(Exception ex, String sql)
         at FluentMigrator.Runner.Processors.SqlServer.SqlServerProcessor.ExecuteNonQuery(String sql)
         at FluentMigrator.Runner.Processors.SqlServer.SqlServerProcessor.Process(String sql)
         at FluentMigrator.Runner.Processors.ProcessorBase.Process(InsertDataExpression expression)
         at FluentMigrator.Expressions.InsertDataExpression.ExecuteWith(IMigrationProcessor processor)
         at FluentMigrator.Runner.MigrationRunner.<>c__DisplayClass75_0.<ExecuteExpressions>b__0()
         at FluentMigrator.Runner.StopWatch.Time(Action action)
         at FluentMigrator.Runner.MigrationRunner.ExecuteExpressions(ICollection`1 expressions)
         at FluentMigrator.Runner.MigrationRunner.ExecuteMigration(IMigration migration, Action`2 getExpressions)
         at FluentMigrator.Runner.MigrationRunner.ApplyMigrationUp(IMigrationInfo migrationInfo, Boolean useTransaction)
         at FluentMigrator.Runner.MigrationRunner.MigrateUp(Int64 targetVersion, Boolean useAutomaticTransactionManagement)
         at FluentMigrator.Runner.MigrationRunner.MigrateUp(Boolean useAutomaticTransactionManagement)
         at FluentMigrator.Runner.MigrationRunner.MigrateUp()
         at HRMS.AppServices.DataMigrations.RunMigrations(String databaseKey) in C:\Users\ayush\OneDrive\Desktop\Ayush\Coding\Landmark Projects\HRMS\HRMS trial 2\HRMS\HRMS.Web\Modules\Common\AppServices\DataMigrations.cs:line 96
         --- End of inner exception stack trace ---
         at HRMS.AppServices.DataMigrations.RunMigrations(String databaseKey) in C:\Users\ayush\OneDrive\Desktop\Ayush\Coding\Landmark Projects\HRMS\HRMS trial 2\HRMS\HRMS.Web\Modules\Common\AppServices\DataMigrations.cs:line 100
         at HRMS.AppServices.DataMigrations.Initialize() in C:\Users\ayush\OneDrive\Desktop\Ayush\Coding\Landmark Projects\HRMS\HRMS trial 2\HRMS\HRMS.Web\Modules\Common\AppServices\DataMigrations.cs:line 29
         at HRMS.Startup.Configure(IApplicationBuilder app, IWebHostEnvironment env) in C:\Users\ayush\OneDrive\Desktop\Ayush\Coding\Landmark Projects\HRMS\HRMS trial 2\HRMS\HRMS.Web\Initialization\Startup.cs:line 172
         at System.RuntimeMethodHandle.InvokeMethod(Object target, Void** arguments, Signature sig, Boolean isConstructor)
         at System.Reflection.MethodBaseInvoker.InvokeDirectByRefWithFewArgs(Object obj, Span`1 copyOfArgs, BindingFlags invokeAttr)
         at System.Reflection.MethodBaseInvoker.InvokeWithFewArgs(Object obj, BindingFlags invokeAttr, Binder binder, Object[] parameters, CultureInfo culture)
         at Microsoft.AspNetCore.Hosting.ConfigureBuilder.Invoke(Object instance, IApplicationBuilder builder)
         at Microsoft.AspNetCore.Hosting.GenericWebHostService.StartAsync(CancellationToken cancellationToken)
         at Microsoft.Extensions.Hosting.Internal.Host.<StartAsync>b__15_1(IHostedService service, CancellationToken token)
         at Microsoft.Extensions.Hosting.Internal.Host.ForeachService[T](IEnumerable`1 services, CancellationToken token, Boolean concurrent, Boolean abortOnFirstException, List`1 exceptions, Func`3 operation)
Unhandled exception. System.InvalidOperationException: Error executing migration!
 ---> System.Exception: An error occurred executing the following sql:
INSERT INTO [dbo].[Employees] ([EmployeeCode], [FirstName], [LastName], [Email], [DepartmentId], [DesignationId], 
[JoiningDate], [EmploymentType], [Status]) VALUES (N'EMP001', N'John', N'Doe', N'john.doe@example.com', 1, 1, 
'2023-01-15T00:00:00', 1, 1)
The error was The INSERT statement conflicted with the FOREIGN KEY constraint "FK_Employees_DepartmentId". The 
conflict occurred in database "HRMS_Default_v1", table "dbo.Departments", column 'DepartmentId'.
The statement has been terminated.

 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY 
constraint "FK_Employees_DepartmentId". The conflict occurred in database "HRMS_Default_v1", table 
"dbo.Departments", column 'DepartmentId'.
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 
wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, 
Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, SqlCommand 
command, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader 
dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlCommand.RunExecuteNonQueryTds(String methodName, Boolean isAsync, Int32 timeout, 
Boolean asyncWrite)
   at Microsoft.Data.SqlClient.SqlCommand.InternalExecuteNonQuery(TaskCompletionSource`1 completion, Boolean 
sendToPipe, Int32 timeout, Boolean& usedCache, Boolean asyncWrite, Boolean inRetry, String methodName)
   at Microsoft.Data.SqlClient.SqlCommand.ExecuteNonQuery()
   at FluentMigrator.Runner.Processors.SqlServer.SqlServerProcessor.ExecuteNonQuery(String sql)
ClientConnectionId:c28ac21b-eaa9-436b-be4d-b2b931c993e0
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at FluentMigrator.Runner.Processors.ProcessorBase.ReThrowWithSql(Exception ex, String sql)
   at FluentMigrator.Runner.Processors.SqlServer.SqlServerProcessor.ExecuteNonQuery(String sql)
   at FluentMigrator.Runner.Processors.SqlServer.SqlServerProcessor.Process(String sql)
   at FluentMigrator.Runner.Processors.ProcessorBase.Process(InsertDataExpression expression)
   at FluentMigrator.Expressions.InsertDataExpression.ExecuteWith(IMigrationProcessor processor)
   at FluentMigrator.Runner.MigrationRunner.<>c__DisplayClass75_0.<ExecuteExpressions>b__0()
   at FluentMigrator.Runner.StopWatch.Time(Action action)
   at FluentMigrator.Runner.MigrationRunner.ExecuteExpressions(ICollection`1 expressions)
   at FluentMigrator.Runner.MigrationRunner.ExecuteMigration(IMigration migration, Action`2 getExpressions)
   at FluentMigrator.Runner.MigrationRunner.ApplyMigrationUp(IMigrationInfo migrationInfo, Boolean useTransaction)
   at FluentMigrator.Runner.MigrationRunner.MigrateUp(Int64 targetVersion, Boolean 
useAutomaticTransactionManagement)
   at FluentMigrator.Runner.MigrationRunner.MigrateUp(Boolean useAutomaticTransactionManagement)
   at FluentMigrator.Runner.MigrationRunner.MigrateUp()
   at HRMS.AppServices.DataMigrations.RunMigrations(String databaseKey) in 
C:\Users\ayush\OneDrive\Desktop\Ayush\Coding\Landmark Projects\HRMS\HRMS trial 
2\HRMS\HRMS.Web\Modules\Common\AppServices\DataMigrations.cs:line 96
   --- End of inner exception stack trace ---
   at HRMS.AppServices.DataMigrations.RunMigrations(String databaseKey) in 
C:\Users\ayush\OneDrive\Desktop\Ayush\Coding\Landmark Projects\HRMS\HRMS trial 
2\HRMS\HRMS.Web\Modules\Common\AppServices\DataMigrations.cs:line 100
   at HRMS.AppServices.DataMigrations.Initialize() in C:\Users\ayush\OneDrive\Desktop\Ayush\Coding\Landmark 
Projects\HRMS\HRMS trial 2\HRMS\HRMS.Web\Modules\Common\AppServices\DataMigrations.cs:line 29
   at HRMS.Startup.Configure(IApplicationBuilder app, IWebHostEnvironment env) in 
C:\Users\ayush\OneDrive\Desktop\Ayush\Coding\Landmark Projects\HRMS\HRMS trial 
2\HRMS\HRMS.Web\Initialization\Startup.cs:line 172
   at System.RuntimeMethodHandle.InvokeMethod(Object target, Void** arguments, Signature sig, Boolean 
isConstructor)
   at System.Reflection.MethodBaseInvoker.InvokeDirectByRefWithFewArgs(Object obj, Span`1 copyOfArgs, BindingFlags 
invokeAttr)
   at System.Reflection.MethodBaseInvoker.InvokeWithFewArgs(Object obj, BindingFlags invokeAttr, Binder binder, 
Object[] parameters, CultureInfo culture)
   at Microsoft.AspNetCore.Hosting.ConfigureBuilder.Invoke(Object instance, IApplicationBuilder builder)
   at Microsoft.AspNetCore.Hosting.GenericWebHostService.StartAsync(CancellationToken cancellationToken)
   at Microsoft.Extensions.Hosting.Internal.Host.<StartAsync>b__15_1(IHostedService service, CancellationToken 
token)
   at Microsoft.Extensions.Hosting.Internal.Host.ForeachService[T](IEnumerable`1 services, CancellationToken 
token, Boolean concurrent, Boolean abortOnFirstException, List`1 exceptions, Func`3 operation)
   at Microsoft.Extensions.Hosting.Internal.Host.StartAsync(CancellationToken cancellationToken)
   at Microsoft.Extensions.Hosting.HostingAbstractionsHostExtensions.RunAsync(IHost host, CancellationToken token)
   at Microsoft.Extensions.Hosting.HostingAbstractionsHostExtensions.RunAsync(IHost host, CancellationToken token)
   at Microsoft.Extensions.Hosting.HostingAbstractionsHostExtensions.Run(IHost host)
   at HRMS.Program.Main(String[] args) in C:\Users\ayush\OneDrive\Desktop\Ayush\Coding\Landmark Projects\HRMS\HRMS 
trial 2\HRMS\HRMS.Web\Initialization\Program.cs:line 13
